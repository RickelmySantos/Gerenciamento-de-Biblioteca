
    create table tb_autores (
        data_nascimento date not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        sobrenome varchar(100) not null,
        nacionalidade varchar(255) not null,
        primary key (id)
    );

    create table tb_emprestimo (
        data_devolucao date not null,
        data_emprestimo date not null,
        id bigint generated by default as identity,
        livros_id bigint not null,
        usuario_id bigint not null,
        primary key (id)
    );

    create table tb_livros (
        autor_id bigint not null,
        id bigint generated by default as identity,
        editora varchar(100) not null,
        genero varchar(100),
        idioma varchar(100),
        titulo varchar(100) not null,
        primary key (id)
    );

    create table tb_usuario (
        id bigint generated by default as identity,
        nome varchar(100) not null,
        email varchar(255),
        senha varchar(255),
        tipo_usuario varchar(255) check (tipo_usuario in ('ADMINISTRADOR','GESTOR','USUARIO')),
        primary key (id)
    );

    alter table if exists tb_emprestimo 
       add constraint FK6bsy05xahincl1a465jbi7kks 
       foreign key (livros_id) 
       references tb_livros;

    alter table if exists tb_emprestimo 
       add constraint FKoggspqjfsu1kpj3s1ssu8mejo 
       foreign key (usuario_id) 
       references tb_usuario;

    alter table if exists tb_livros 
       add constraint FK45mpyjglx2a6jh4vyx1vf0gd1 
       foreign key (autor_id) 
       references tb_autores;

    create table tb_autores (
        data_nascimento date not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        sobrenome varchar(100) not null,
        nacionalidade varchar(255) not null,
        primary key (id)
    );

    create table tb_emprestimo (
        data_devolucao date not null,
        data_emprestimo date not null,
        id bigint generated by default as identity,
        livros_id bigint not null,
        usuario_id bigint not null,
        primary key (id)
    );

    create table tb_livros (
        autor_id bigint not null,
        id bigint generated by default as identity,
        editora varchar(100) not null,
        genero varchar(100),
        idioma varchar(100),
        titulo varchar(100) not null,
        primary key (id)
    );

    create table tb_usuario (
        id bigint generated by default as identity,
        nome varchar(100) not null,
        email varchar(255),
        senha varchar(255),
        tipo_usuario varchar(255) check (tipo_usuario in ('ADMINISTRADOR','GESTOR','USUARIO')),
        primary key (id)
    );

    alter table if exists tb_emprestimo 
       add constraint FK6bsy05xahincl1a465jbi7kks 
       foreign key (livros_id) 
       references tb_livros;

    alter table if exists tb_emprestimo 
       add constraint FKoggspqjfsu1kpj3s1ssu8mejo 
       foreign key (usuario_id) 
       references tb_usuario;

    alter table if exists tb_livros 
       add constraint FK45mpyjglx2a6jh4vyx1vf0gd1 
       foreign key (autor_id) 
       references tb_autores;

    create table tb_autores (
        data_nascimento date not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        sobrenome varchar(100) not null,
        nacionalidade varchar(255) not null,
        primary key (id)
    );

    create table tb_emprestimo (
        data_devolucao date not null,
        data_emprestimo date not null,
        id bigint generated by default as identity,
        livros_id bigint not null,
        usuario_id bigint not null,
        primary key (id)
    );

    create table tb_livros (
        autor_id bigint not null,
        id bigint generated by default as identity,
        editora varchar(100) not null,
        genero varchar(100),
        idioma varchar(100),
        titulo varchar(100) not null,
        primary key (id)
    );

    create table tb_usuario (
        id bigint generated by default as identity,
        nome varchar(100) not null,
        email varchar(255),
        senha varchar(255),
        tipo_usuario varchar(255) check (tipo_usuario in ('ADMINISTRADOR','GESTOR','USUARIO')),
        primary key (id)
    );

    alter table if exists tb_emprestimo 
       add constraint FK6bsy05xahincl1a465jbi7kks 
       foreign key (livros_id) 
       references tb_livros;

    alter table if exists tb_emprestimo 
       add constraint FKoggspqjfsu1kpj3s1ssu8mejo 
       foreign key (usuario_id) 
       references tb_usuario;

    alter table if exists tb_livros 
       add constraint FK45mpyjglx2a6jh4vyx1vf0gd1 
       foreign key (autor_id) 
       references tb_autores;

    create table tb_autores (
        data_nascimento date not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        sobrenome varchar(100) not null,
        nacionalidade varchar(255) not null,
        primary key (id)
    );

    create table tb_emprestimo (
        data_devolucao date not null,
        data_emprestimo date not null,
        id bigint generated by default as identity,
        livros_id bigint not null,
        usuario_id bigint not null,
        primary key (id)
    );

    create table tb_livros (
        autor_id bigint not null,
        id bigint generated by default as identity,
        editora varchar(100) not null,
        genero varchar(100),
        idioma varchar(100),
        titulo varchar(100) not null,
        primary key (id)
    );

    create table tb_usuario (
        id bigint generated by default as identity,
        nome varchar(100) not null,
        email varchar(255),
        senha varchar(255),
        tipo_usuario varchar(255) check (tipo_usuario in ('ADMINISTRADOR','GESTOR','USUARIO')),
        primary key (id)
    );

    alter table if exists tb_emprestimo 
       add constraint FK6bsy05xahincl1a465jbi7kks 
       foreign key (livros_id) 
       references tb_livros;

    alter table if exists tb_emprestimo 
       add constraint FKoggspqjfsu1kpj3s1ssu8mejo 
       foreign key (usuario_id) 
       references tb_usuario;

    alter table if exists tb_livros 
       add constraint FK45mpyjglx2a6jh4vyx1vf0gd1 
       foreign key (autor_id) 
       references tb_autores;

    create table tb_autores (
        data_nascimento date not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        sobrenome varchar(100) not null,
        nacionalidade varchar(255) not null,
        primary key (id)
    );

    create table tb_emprestimo (
        data_devolucao date not null,
        data_emprestimo date not null,
        id bigint generated by default as identity,
        livros_id bigint not null,
        usuario_id bigint not null,
        primary key (id)
    );

    create table tb_livros (
        autor_id bigint not null,
        id bigint generated by default as identity,
        editora varchar(100) not null,
        genero varchar(100),
        idioma varchar(100),
        titulo varchar(100) not null,
        primary key (id)
    );

    create table tb_usuario (
        id bigint generated by default as identity,
        nome varchar(100) not null,
        email varchar(255),
        senha varchar(255),
        tipo_usuario varchar(255) check (tipo_usuario in ('ADMINISTRADOR','GESTOR','USUARIO')),
        primary key (id)
    );

    alter table if exists tb_emprestimo 
       add constraint FK6bsy05xahincl1a465jbi7kks 
       foreign key (livros_id) 
       references tb_livros;

    alter table if exists tb_emprestimo 
       add constraint FKoggspqjfsu1kpj3s1ssu8mejo 
       foreign key (usuario_id) 
       references tb_usuario;

    alter table if exists tb_livros 
       add constraint FK45mpyjglx2a6jh4vyx1vf0gd1 
       foreign key (autor_id) 
       references tb_autores;

    create table tb_autores (
        data_nascimento date not null,
        id bigint generated by default as identity,
        nome varchar(100) not null,
        sobrenome varchar(100) not null,
        nacionalidade varchar(255) not null,
        primary key (id)
    );

    create table tb_emprestimo (
        data_devolucao date not null,
        data_emprestimo date not null,
        id bigint generated by default as identity,
        livros_id bigint not null,
        usuario_id bigint not null,
        primary key (id)
    );

    create table tb_livros (
        autor_id bigint not null,
        id bigint generated by default as identity,
        editora varchar(100) not null,
        genero varchar(100),
        idioma varchar(100),
        titulo varchar(100) not null,
        primary key (id)
    );

    create table tb_usuario (
        id bigint generated by default as identity,
        nome varchar(100) not null,
        email varchar(255),
        senha varchar(255),
        tipo_usuario varchar(255) check (tipo_usuario in ('ADMINISTRADOR','GESTOR','USUARIO')),
        primary key (id)
    );

    alter table if exists tb_emprestimo 
       add constraint FK6bsy05xahincl1a465jbi7kks 
       foreign key (livros_id) 
       references tb_livros;

    alter table if exists tb_emprestimo 
       add constraint FKoggspqjfsu1kpj3s1ssu8mejo 
       foreign key (usuario_id) 
       references tb_usuario;

    alter table if exists tb_livros 
       add constraint FK45mpyjglx2a6jh4vyx1vf0gd1 
       foreign key (autor_id) 
       references tb_autores;
